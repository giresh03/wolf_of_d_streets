rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Teams collection - allow read/write for everyone
    match /teams/{teamId} {
      allow read, write: if true;
    }
    
    // Transactions collection - allow read/insert for everyone, no delete
    match /transactions/{transactionId} {
      allow read, create, update: if true;
      allow delete: if false; // Prevent deletion of transaction history
    }
    
    // OC Transactions collection - for Round 2 fake news game
    match /oc_transactions/{transactionId} {
      allow read, create, update: if true;
      allow delete: if false; // Prevent deletion of OC transaction history
    }
    
    // Attendance collection - for team attendance tracking
    match /attendance/{teamId} {
      allow read, write: if true;
    }
    
    // Admin collection - for future use with proper authentication
    match /admin/{adminId} {
      allow read, write: if false; // Will be secured with auth later
    }
  }
}


